<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dominik Lindner">
<meta name="dcterms.date" content="2025-01-17">
<meta name="description" content="I recently switch from WordPress to quarto. Learn why and how to integrate it in an Obsidian based workflow.">

<title>Blogging with quarto – Story Melange</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-b524e5e10053bf5bea4dd5b3071a8bf3.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-40a45da1a7017d7a4022ef73fce677a9.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="Blogging with quarto – Story Melange">
<meta property="og:description" content="I recently switch from WordPress to quarto. Learn why and how to integrate it in an Obsidian based workflow.">
<meta property="og:image" content="https://www.storymelange.com/quarto.jpg">
<meta property="og:site_name" content="Story Melange">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Story Melange</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../archive.html"> 
<span class="menu-text">Archive</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../subscribe.html"> 
<span class="menu-text">Subscribe</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/dolind"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/dominiklindner/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:info@storymelange.com"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#blogging-platform-update." id="toc-blogging-platform-update." class="nav-link active" data-scroll-target="#blogging-platform-update.">1 Blogging platform update.</a></li>
  <li><a href="#enter-quarto" id="toc-enter-quarto" class="nav-link" data-scroll-target="#enter-quarto">2 Enter Quarto</a>
  <ul class="collapse">
  <li><a href="#the-ideal-blogging-pipeline" id="toc-the-ideal-blogging-pipeline" class="nav-link" data-scroll-target="#the-ideal-blogging-pipeline">2.1 The ideal blogging pipeline</a></li>
  </ul></li>
  <li><a href="#setting-up-quarto" id="toc-setting-up-quarto" class="nav-link" data-scroll-target="#setting-up-quarto">3 Setting up Quarto</a></li>
  <li><a href="#switching-to-quarto" id="toc-switching-to-quarto" class="nav-link" data-scroll-target="#switching-to-quarto">4 Switching to Quarto</a>
  <ul class="collapse">
  <li><a href="#content-structure" id="toc-content-structure" class="nav-link" data-scroll-target="#content-structure">4.1 Content Structure</a></li>
  <li><a href="#using-drafts" id="toc-using-drafts" class="nav-link" data-scroll-target="#using-drafts">4.2 Using drafts</a></li>
  <li><a href="#output-name" id="toc-output-name" class="nav-link" data-scroll-target="#output-name">4.3 Output name</a></li>
  <li><a href="#dynamic-content" id="toc-dynamic-content" class="nav-link" data-scroll-target="#dynamic-content">4.4 Dynamic Content</a></li>
  <li><a href="#wiki-links" id="toc-wiki-links" class="nav-link" data-scroll-target="#wiki-links">4.5 Wiki links</a></li>
  </ul></li>
  <li><a href="#publishing-with-quarto" id="toc-publishing-with-quarto" class="nav-link" data-scroll-target="#publishing-with-quarto">5 Publishing with Quarto</a>
  <ul class="collapse">
  <li><a href="#draft-publish-directories" id="toc-draft-publish-directories" class="nav-link" data-scroll-target="#draft-publish-directories">5.1 Draft &amp; Publish Directories</a></li>
  <li><a href="#large-blogs" id="toc-large-blogs" class="nav-link" data-scroll-target="#large-blogs">5.2 Large Blogs</a></li>
  <li><a href="#privacy-concerns-data-leaks" id="toc-privacy-concerns-data-leaks" class="nav-link" data-scroll-target="#privacy-concerns-data-leaks">5.3 Privacy Concerns &amp; Data Leaks</a></li>
  </ul></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code">6 Code</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Blogging with quarto</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Knowledge Work</div>
    <div class="quarto-category">Growth</div>
  </div>
  </div>

<div>
  <div class="description">
    I recently switch from WordPress to quarto. Learn why and how to integrate it in an Obsidian based workflow.
  </div>
</div>


<div class="quarto-title-meta column-page-left">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dominik Lindner </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 17, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../quarto.jpg" class="img-fluid figure-img"></p>
<figcaption>Using quarto for blogging</figcaption>
</figure>
</div>
<section id="blogging-platform-update." class="level2">
<h2 class="anchored" data-anchor-id="blogging-platform-update.">1 Blogging platform update.</h2>
<p>WordPress blogging works well. There’s one caveat to my personal portfolio website. My production pipeline is slow and cumbersome. I use Obsidians vault system with one zettelkasten for all my writing. This has the benefit of having all data in text form and does not suffer from non-accessible formats in the distant future. From Obsidian I copy the text to WordPress, where I need to format it properly and finally copy it back. This duplication means I need to keep track of two databases.</p>
<p>In addition, the WordPress site requires maintennace. Albeit low effort, it is a mental effort; one other thing to keep in mind.</p>
<p>As a software engineer, I found this redundant source of truth unsatisfactory.</p>
</section>
<section id="enter-quarto" class="level2">
<h2 class="anchored" data-anchor-id="enter-quarto">2 Enter Quarto</h2>
<p>Then I discovered quarto. Quite relevant in the data science field, it has gained a following in recent years. Jekyll is quite similar, but somehow the whole quarto experience seems more feature-rich. It effortlessly transforms repositories into websites or books.</p>
<p>Another cool feature is live content. Add the raw code to the text, which will lead to creating figures. I did this during my PhD with <code>tikz</code> for my figures. With quarto, it is not just figures with new formatting, it can run whole scripts to generate the entire data.</p>
<p>This becomes really handy when running Jupyter notebooks or small python programs habits, which have a small runtime, but a high development effort.</p>
<section id="the-ideal-blogging-pipeline" class="level3">
<h3 class="anchored" data-anchor-id="the-ideal-blogging-pipeline">2.1 The ideal blogging pipeline</h3>
<ol type="1">
<li>Do some work</li>
<li>Write about it</li>
<li>Create pleasant images</li>
<li>Format it properly</li>
<li>Publish</li>
</ol>
<p>Quarto can combine steps 2 to 4 in one. It can even integrate the publishing process.</p>
<p>The main issue is not with quarto, but integrating quarto in an existing working process.</p>
<p>If you have done something for a while, you have developed habits. In a professional setting, people usually formalize those habits as processes. Introducing something new is usually challenging. It is hard to change your habits, and it is also hard to change long running processes.</p>
<p>For me, the conflict arose from using Obsidian, a zettelkasten note taking system. In addition, I was used to a WordPress based workflow.</p>
<p>But let’s dive into the details.</p>
</section>
</section>
<section id="setting-up-quarto" class="level2">
<h2 class="anchored" data-anchor-id="setting-up-quarto">3 Setting up Quarto</h2>
<p>There are some cool <a href="https://albert-rapp.de/posts/13_quarto_blog_writing_guide/13_quarto_blog_writing_guide">tutorials</a>. As a software engineer, I found the Quarto documentation very well structured. <a href="https://quarto.org/docs/gallery/">Quarto gallery</a> has a few inspirations on how to format the blog.</p>
<p>Importantly, these sources address the following more complex topics:</p>
<ul>
<li>newsletter</li>
<li>comments</li>
<li>legal notice</li>
<li>google analytics</li>
</ul>
<p>So far, I have nothing to add to those fabulous resources.</p>
</section>
<section id="switching-to-quarto" class="level2">
<h2 class="anchored" data-anchor-id="switching-to-quarto">4 Switching to Quarto</h2>
<section id="content-structure" class="level3">
<h3 class="anchored" data-anchor-id="content-structure">4.1 Content Structure</h3>
<p>I put the old content in the new blog as a new platform is usually best judged with some content in it.</p>
<p>There are two things needed: a better directory structure and yaml front matters.</p>
<p>I have been using Obsidian so far with a flat file structure. However, Obsidian has no issue with all nested structure, as long as the blog remains in the Obsidian vault.</p>
<p>As the blog content should still be accessible from one Obsidian vault, I put the Blog in the Zettelkasten.</p>
<pre><code>Zettelkasten/
├── blog/
│   ├── posts/
│   │   ├── book reviews/
│   │   └── projects/
│   └── normal blog posts
└── normal zettelkasten files
</code></pre>
<p>Doing so enables me to link from Zettel outside of the blog to the blog. The otherway round is not intended as Readers would experience dead links.</p>
<p>Quarto advises to use directories to structure the content. And for a good reason. In Quarto, it is easy to generate an auto-created overview, so-called listings, for a directory. I use listings on my <code>book reviews</code> and <code>projects</code> overview pages.</p>
<p>Adding the front matters was easy. Filing them with consistent content was more difficult.</p>
<p>The yaml front matter is necessary as it contains all the metadata. This data was previously in WordPress. I prefer this design as I now can change everything from within Obsidian. This mainly comprised creating yaml front matters for all my files.</p>
<p>For new Files, I have a script that adds a template.</p>
</section>
<section id="using-drafts" class="level3">
<h3 class="anchored" data-anchor-id="using-drafts">4.2 Using drafts</h3>
<p>Draft versions of blog post can be quite stable. Sometimes there is no time to finish an article, then again you want some time for the thoughts to age. The article remains in <code>draft</code> state.</p>
<p>In my WordPress workflow, I had two release gates. The first check occurs when copying from Obsidian to WordPress. I perform the second check before clicking “publish” on the WordPress interface.</p>
<p>Quarto supports this draft state via the yaml front matter <code>draft: true</code>. You can render or hide drafts. The Quarto YAML defines this via.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">draft_mode</span><span class="kw">:</span><span class="at"> visible</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>For the production version of my blog, I wanted no drafts. However, I found no way to change the behaviour quickly. Therefore, I decided on a custom deployment process via python script.</p>
<p>Usually quarto only informs you that a post is a draft. There is no option to see all your drafts in a rendered version. I added a category draft, which gets set once the draft tag is true.</p>
<p>Again everything is done via python script.</p>
</section>
<section id="output-name" class="level3">
<h3 class="anchored" data-anchor-id="output-name">4.3 Output name</h3>
<p>Word press automatically shortens the title to something easily readable in the browser address page.</p>
<p>My zettelkasten files usually have the form: <code>202304170008 Decision paralysis at a McDonalds</code>. The date shows when I created the note, not when I published the post.</p>
<p>The publishing date and the title is in the yaml front matter. I only need a easily readable webpage without spaces.</p>
<p>I wrote a converter which makes this to <code>decision-paralysis-at-a-mcdonalds</code> for the output file.</p>
</section>
<section id="dynamic-content" class="level3">
<h3 class="anchored" data-anchor-id="dynamic-content">4.4 Dynamic Content</h3>
<p>As stated before, I mainly use Obsidian. There are many discussions to get Quarto and Obsidian to work with each other, <img src="https://forum.obsidian.md/t/obsidian-quarto-setup-current-status-and-questions/75003.png" class="img-fluid" alt="for example this one">. However, none of the presented ways worked for me.</p>
<p>One enormous challenge is one of the USP of Quarto is the executing of code from the text files. To make this work, files needed to be <code>qmd</code> files.</p>
<p>There is an Obsidian extension: <code>qmd as md</code>. This plugin can currently just show the content of the file and allows editing via Obsidian. Obsidian search or graph do not work.</p>
<p>I resolved the issue by naming my <code>qmd</code> files <code>qmd.md</code>. My integration pipeline then changes this to <code>qmd</code> for the rendering to work, as Quarto can only execute code in <code>qmd</code> not <code>md</code> files.</p>
</section>
<section id="wiki-links" class="level3">
<h3 class="anchored" data-anchor-id="wiki-links">4.5 Wiki links</h3>
<p>One of the biggest issues is the linking. Obsidian uses wikilinks, Quarto uses Markdown links.</p>
<p>I tried a lot of things: prerender script, lua filter. These approach failed because it violated the designs of Quarto: a to be rendered file can not be changed and the list of to be rendered files can not be modified by the prerender script.</p>
<p>I settled on the wikilink to markdown Obsidian extension. It only lets you change one link. Changing Back does not correctly work. However, the backlinks and graph view show the markdown links correctly. The only tiring aspect is that the markdown link has <code>%20</code> for spaces.</p>
<p>There is also the plugin: better markdown links. It offers more features, but did not work with my version.</p>
<p>The community seems onto this one. So I expect better results next year.</p>
</section>
</section>
<section id="publishing-with-quarto" class="level2">
<h2 class="anchored" data-anchor-id="publishing-with-quarto">5 Publishing with Quarto</h2>
<section id="draft-publish-directories" class="level3">
<h3 class="anchored" data-anchor-id="draft-publish-directories">5.1 Draft &amp; Publish Directories</h3>
<p>So far I have been using Hostinger with a WordPress installation. Getting my work to the blog always required manual copies.</p>
<p>The main reason to switch to Quarto was that it streamlines this quite dump part of the entire writing process. In contrast, Quarto offers support for direct publishing from the repository to a GitHub Pages enabled repository.</p>
<p>What sounds great at first sight, proofed to be rather difficult to get to work.</p>
<p>First, I had the issues with the draft tag and the qmd files. I resolved this issue by introduction extra directories for draft and publishing. A script then runs through all the files and checks and syncs the files. To avoid any privacy leaks, theses directories are outside of my Zettelkasten. Drawback, rendering on render preview is not instant, but requires a manual copy. Future feature: a watchdog process could resolve this.</p>
<p>I then review the publish directory and push it to git, where I have setup github actions.</p>
<p>The complete pipeline is:</p>
<ol type="1">
<li>Write in Obsidian</li>
<li>Use a command to copy to draft or publish directory</li>
<li>In draft, do a render preview. Any subsequent copy just updates the file.</li>
<li>Do it with the publishing repo</li>
<li>Examine new content in git</li>
<li>Commit and push</li>
<li>Github renders the repo</li>
<li>Github updates the blog</li>
</ol>
</section>
<section id="large-blogs" class="level3">
<h3 class="anchored" data-anchor-id="large-blogs">5.2 Large Blogs</h3>
<p>I noticed that quarto takes some time to render large blogs. Sometimes, there are errors and I needed to delete the render. Which could mean rendering takes a lot of time. Luckily, quarto offers GitHub actions to render your blog on the GitHub server. This has two advantages:</p>
<ol type="1">
<li>Not blocking your system with the final render</li>
<li>Easier diff, as only md source needs review</li>
</ol>
</section>
<section id="privacy-concerns-data-leaks" class="level3">
<h3 class="anchored" data-anchor-id="privacy-concerns-data-leaks">5.3 Privacy Concerns &amp; Data Leaks</h3>
<p>GitHub only allows GitHub pages for public repositories. If you do not feel comfortable to push the raw data of the blog to a public repository, there is a solution.</p>
<p>You need two repositories. One to store the blog source files and the second to store the rendered files with static js.</p>
<p><a href="https://mskyda.medium.com/host-a-website-on-github-pages-from-a-private-repo-step-by-step-guide-7fd82b6ae65f">Here are the instructions to do this in a general case.</a></p>
<p>To sum up the benefits:</p>
<ul>
<li>Separation of Concerns: Keep source files private while hosting the static site publicly.</li>
<li>Security: Sensitive files in the source repo remain private.</li>
<li>Version Control: Build files are pushed only to the public repo without cluttering the source repo’s history.</li>
</ul>
<p>For quarto a different GitHub actions file is required:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> Quarto Publish</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> master</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">build-deploy</span><span class="kw">:</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ubuntu-latest</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Checkout source repository</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v3</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Setup Quarto</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> quarto-dev/quarto-actions/setup@v2</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Configure SSH for deploy</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">        run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>          # the deploykey is the private key. The public key is in the github pages repo</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>          mkdir -p ~/.ssh</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>          echo "${{ secrets.DEPLOY_KEY }}" &gt; ~/.ssh/id_ed25519</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>          chmod 600 ~/.ssh/id_ed25519</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Render</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="fu">        run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>          quarto render</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="co">    # Git task</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> publish</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="fu">        run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>          # remove git history and settings - to avoid inheritance</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>          rm -rf .git</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>          # re-initialise git</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>          git init</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>          git config user.name "name"</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>          git config user.email "mail@mail.com"</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>          git branch -m main</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>          git remote add origin git@github.com:$USERNAME/$USERNAME.github.io.git</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>          # add and commit /docs/ folder</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>          git add docs</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>          git commit -m "deploy the bundle"</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>          # push the commit to the public repository</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>          git push -u origin main --force</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="code" class="level2">
<h2 class="anchored" data-anchor-id="code">6 Code</h2>
<p>All code can be found in <a href="https://github.com/dolind/obsidian2quarto">https://github.com/dolind/obsidian2quarto</a>.</p>


</section>

</main> <!-- /main -->
<div class="container">

<div class="ml-subscribe-box">
  <p><strong>Like this post?</strong> Get espresso-shot tips and slow-pour insights straight to your inbox.</p>
<!-- MailerLite Universal -->
<script>
    (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
    .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
    n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
    (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
    ml('account', '1642227');
</script>
<!-- End MailerLite Universal -->

<div class="ml-embedded" data-form="kY9B7p"></div>
</div>

<h2>Comments</h2>
<p>Join the discussion below.</p>
</div>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/www\.storymelange\.com");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<script src="https://utteranc.es/client.js" repo="dolind/dolind.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><br> © 2025 by Dr.&nbsp;Dominik Lindner<br> This website was created with <a href="https://quarto.org"><img src="../quarto.jpg" class="img-fluid" alt="Quarto" width="65"></a></p>
</div>   
    <div class="nav-footer-center">
<p><br> <strong><a href="../impressum.html">Impressum</a></strong><br></p>
<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
<p><br> <span class="tagline-footer"> Code · Data · Curiosity <br> Espresso-strength insights on AI, systems, and learning. </span></p>
</div>
  </div>
</footer>




</body></html>